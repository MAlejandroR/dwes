<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="fr" class="no-js">
  <head><script src="/dwes/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=dwes/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="canonical" type="text/html" href="http://localhost:1313/dwes/fr/docs/02_docker/">
<link rel="alternate" type="application/rss&#43;xml" href="http://localhost:1313/dwes/fr/docs/02_docker/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/dwes/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/dwes/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/dwes/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/dwes/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/dwes/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/dwes/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/dwes/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/dwes/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/dwes/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/dwes/favicons/android-192x192.png" sizes="192x192">

<title>Documentación | Docsy</title>
<meta name="description" content="Powerful, extensible, and feature-packed frontend toolkit. Build and customize with Sass, utilize prebuilt grid system and components, and bring projects to life with powerful JavaScript plugins.">
<meta property="og:url" content="http://localhost:1313/dwes/fr/docs/02_docker/">
  <meta property="og:site_name" content="Docsy">
  <meta property="og:title" content="Documentación">
  <meta property="og:description" content="Aspectos vistos en la tutoría Conceptos / Ejercicios de repaso y refuerzo En esta sección se irán aportando recursos que puedan ayudar a adquirir los conceptos estudiados y vistos las tutorías
Según vayamos avanzando en las clases actualizamos estos puntos.">
  <meta property="og:locale" content="fr">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="Documentación">
  <meta itemprop="description" content="Aspectos vistos en la tutoría Conceptos / Ejercicios de repaso y refuerzo En esta sección se irán aportando recursos que puedan ayudar a adquirir los conceptos estudiados y vistos las tutorías
Según vayamos avanzando en las clases actualizamos estos puntos.">
  <meta itemprop="wordCount" content="40">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Documentación">
  <meta name="twitter:description" content="Aspectos vistos en la tutoría Conceptos / Ejercicios de repaso y refuerzo En esta sección se irán aportando recursos que puedan ayudar a adquirir los conceptos estudiados y vistos las tutorías
Según vayamos avanzando en las clases actualizamos estos puntos.">





<link href="/dwes/scss/main.css" rel="stylesheet">

<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"></script>

  </head>
  <body class="td-section">
    <header>
      <nav class="td-navbar js-navbar-scroll "  data-bs-theme="dark">
<div class="container-fluid flex-column flex-md-row ">
  <a class="navbar-brand" href="/dwes/fr/"><span class="navbar-brand__logo navbar-logo">
    <img src="/dwes/images/logo.png" alt="Logo" width="150" height="auto" />
    </span><span class="navbar-brand__name">Docsy</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/fr/dwes/docs/02_docker/"><span>Docker</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/dwes/fr/docs/03_hugo/"><span>Documentación</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/fr/dwes/docs/03_hugo/"><span>Hugo</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/dwes/fr/docs/02_docker/1_docker/"><span>Docker</span></a>
      </li>
      <li class="nav-item dropdown d-none d-lg-block">
        <div class="dropdown">
  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Francés</a>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="/dwes/es/docs/02_docker/">Español</a></li>
    </ul>
</div></li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    
  </div>
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
Version imprimable multipages.
<a href="#" onclick="print();return false;">Cliquer ici pour imprimer</a>.
</p><p>
<a href="/dwes/fr/docs/02_docker/">Retour à la version par défaut</a>.
</p>
</div>



<h1 class="title">Documentación</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-5ec8559cae1717f1784939083623de71">Docker Prácticas</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>1.1: <a href="#pg-1b7338c10b8ab3783e7fb8f39ad1643f">Conceptos sobre docker</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>1.2: <a href="#pg-351d3b8362152876433f725b3c89b9c8">Contenedores e imágenes</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>1.3: <a href="#pg-f5307d51a1b3bd04f4cef982bbaca0e1">Docker Prácticas</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>1.4: <a href="#pg-9739885f79c66da9ed5d2b6b2fe68c63">Docker Prácticas</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>1.4.1: <a href="#pg-080bdfaac88decf3b7257d39baf6b742">Crea imágenes</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>1.4.2: <a href="#pg-cb2775e9bf7732cb075419e2a3dac61d">Crea Contenedores</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>1.4.3: <a href="#pg-e1f1e45c4523f9c2e90bbea36ff81cb9">Contenedores</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>1.5: <a href="#pg-9db37789e1d29d0aec9796e36ca446e8">Gestión de archivos y directorios</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>2: <a href="#pg-30609be7d132b7b5711480252dc9530b">Ficheros y directorios</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  

    </ul>


<div class="content">
      

<div class="pageinfo pageinfo-primary">
<ul>
<li>Aspectos vistos en la tutoría</li>
<li>Conceptos / Ejercicios de repaso y refuerzo</li>
</ul>

</div>



<div class="pageinfo pageinfo-primary">
<blockquote>
<p>En esta sección se irán aportando recursos que puedan ayudar a adquirir los conceptos estudiados y vistos las tutorías<br>
Según vayamos avanzando en las clases actualizamos estos puntos.</p>
</blockquote>

</div>


</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-5ec8559cae1717f1784939083623de71">1 - Docker Prácticas</h1>
    
	<p>

<div class="pageinfo pageinfo-primary">
<h3 id="__clipboard-resumen-comandos-básicos-usados-con-docker__"><strong>&#x1f4cb; Resumen comandos básicos usados con docker</strong></h3>
<blockquote>
<p>&#x1f433; <strong>Instrucciones de comandos en línea de docker</strong><br>
&#x1f4c4; Resumen instrucciones usadas en el fichero <strong>Dockerfile</strong><br>
&#x1f6a2;Resumen estructura <strong>docker-compose.yaml</strong></p>
</blockquote>
<ul>
<li>Realizamos unos ejercicios básicos con comandos de docker</li>
</ul>

</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Colaboremos</h4>

    Es importante un feedback para completar esta web, espero vuestras ideas

</div>
</p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-1b7338c10b8ab3783e7fb8f39ad1643f">1.1 - Conceptos sobre docker</h1>
    
	<h2 id="referencias-en-la-web">Referencias en la web</h2>


<div class="pageinfo pageinfo-primary">
<h4 id="heading"></h4>
<hr>
<ul>
<li>La mejor la oficial:</li>
</ul>
<blockquote>
<p><a href="https://docs.docker.com/engine/">https://docs.docker.com/engine/</a></p>
</blockquote>
<ul>
<li>Artículo interesante de Mauricio Collados, donde he sacado ideas para este tema</li>
</ul>
<blockquote>
<p><a href="https://medium.com/ingenier%C3%ADa-en-tranqui-finanzas/una-gu%C3%ADa-no-tan-r%C3%A1pida-de-docker-y-kubernetes-933f5b6709df">https://medium.com/ingenier%C3%ADa-en-tranqui-finanzas/una-gu%C3%ADa-no-tan-r%C3%A1pida-de-docker-y-kubernetes-933f5b6709df</a></p>
</blockquote>
<ul>
<li>Curso gratuito de docker</li>
</ul>
<blockquote>
<p><a href="https://jgaitpro.com/p/introduccion-a-containers-en-docker">https://jgaitpro.com/p/introduccion-a-containers-en-docker</a></p>
</blockquote>
<ul>
<li>Instalar contenedor en windows (ver minutos 6:10 - 9:21</li>
</ul>
<blockquote>
<p><a href="https://www.youtube.com/watch?v=9FoWrDx6n2k">https://www.youtube.com/watch?v=9FoWrDx6n2k</a></p>
</blockquote>

</div>

<hr>
<h3 id="instalar-docker">Instalar Docker</h3>
<ul>
<li>Referencia de la página web
<a href="https://docs.docker.com/install">https://docs.docker.com/install</a></li>
</ul>
<blockquote>
<p>Para ubuntu
<a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/">https://docs.docker.com/install/linux/docker-ce/ubuntu/</a></p>
</blockquote>
<hr>
<blockquote>
<p>Para windows
<a href="https://docs.docker.com/docker-for-windows/install/">https://docs.docker.com/docker-for-windows/install/</a>
}}</p>
</blockquote>
<h3 id="docker-virtualizacion">Docker: Virtualizacion</h3>


<div class="pageinfo pageinfo-primary">
<h4 id="heading"></h4>
<p><strong>Lectura recomendada</strong></p>
<h3 id="qué-es-docker">Qué es docker</h3>
<p><strong>Docker</strong> es una empresa <a href="https://www.docker.com/company/">https://www.docker.com/company/</a> que entre otros productos ofrece <strong>una tecnología de virtualización basada en contenedores</strong>.</p>
<p>Empieza su desarrollo en 2010 impulsada por Solomon Hykes,   y actualmente la compañía se llama <strong>Moby Proyect</strong>.</p>
<p>Entre otras, en  una  idea inicial, Docker permite tomar instantáneas de un determinado entorno de ejecución, incluyendo el sistema operativo, servicios y procesos necesarios, aislándolo del sistema anfitrión dónde se esté ejecutando. <br>
Para hacer instantáneas, se procede igual que los commit de git (también es el comando <strong>docker commit</strong>, que crea imágenes a partir de contenedores) y pudiendo en cualquier momento recuperar dicho entorno de ejecución en  un determinado instante.</p>
<p>Siempre independizados del entorno (Sistema anfitrión dónde se esté ejecutando el elemento concreto de docker).</p>
<p>En este proceso de <strong>empaquetamiento</strong> en una sola entidad con forma de archivo <strong>contenedor</strong> se van a agrupar el código fuente y las dependencias requeridas para que el software funcione.</p>
<p>*Aquí está el concepto de <em><strong>contenedor</strong></em> un programa que virtualiza el software deseado para ese determinado entorno de ejecución. De este <strong>contenedor</strong> podemos comitear a imágenes nuevas en cualquier momento.</p>
<p>Igualmente de  una imagen concreta se puede levanta un contendor de forma muy rápida (cuestión de segundos o menos&hellip;.). Si vamos realizando nuevas instalaciones en el contenedor, vamos guardando solo los cambios que se van produciendo. Podremos visualizar los difernetes cambios.</p>

</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Particularidades</h4>

    En cada commit solo se guardan los cambios realizados desde el commit anterior

</div>

<p>

<div class="alert alert-dark" role="alert">
<h4 class="alert-heading">Definición</h4>

    Es un sistema de virtualización  de código abierto basado en contenedores

</div>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Idea intuitiva</h4>

    Utilizar <strong>software</strong> para <em>emular</em> el sistema necesario que pueda contener <em><strong>un determinado sistema operativo disponible para ser usado</strong></em> y necesario para ejecutar alguna/s aplicaciones

</div>



<div class="alert alert-success" role="alert">
<h4 class="alert-heading">¿Docker Virtualiza  un S.O.?</h4>

    <h1 id="question">&#x2753;</h1>
<p><strong>No</strong>, Docker utiliza el kernel del S.O. anfitrión y crea entornos de ejecución aislados. No virtualiza un S.O. completo, sino solo lo necesario para ejecutar aplicaciones de forma independiente. Su objetivo es crear un entorno aislado, no una máquina virtual.
}}</p>

</div>

<figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 810px">
<img class="card-img-top" src="/dwes/fr/docs/02_docker/1_docker/01_conceptos/Docker_general_1_hu16185158949005629055.png" width="800" height="500">
<figcaption class="card-body px-0 pt-2 pb-0">
<p class="card-text">




</p>
</figcaption>
</figure>
</p>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-351d3b8362152876433f725b3c89b9c8">1.2 - Contenedores e imágenes</h1>
    
	<h2 id="contenedores-e-imágnes">Contenedores e imágnes</h2>
<figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 610px">
<img class="card-img-top" src="/dwes/fr/docs/02_docker/1_docker/02_contenedores_imagenes/Contenedor_vs_img_hu14260772193613322638.png" width="600" height="350">
<figcaption class="card-body px-0 pt-2 pb-0">
<p class="card-text">






</p>
</figcaption>
</figure>

<h3 id="la-imagen">La imagen</h3>
<blockquote>
<p><strong>
<span class="font-weight-bold text-primary">


    La imagen

</span>
 es un fichero que contiene todo el conjunto de librerías, dependencias y configuraciones necesarias para ejecutar un entorno aislado, con servicios y procesos, junto con su propia IP, y que servirá como base para crear uno o varios contenedores.</strong></p>
</blockquote>
<hr style="border-color: red; border-width: 3px;"/>
<figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 621px">
<img class="card-img-top" src="/dwes/fr/docs/02_docker/1_docker/02_contenedores_imagenes/Imagen_hu1123848494357708612.png" width="611" height="812">
<figcaption class="card-body px-0 pt-2 pb-0">
<p class="card-text">




</p>
</figcaption>
</figure>

<p>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Notas</h4>

    No se emula hardware, sino únicamente servicios y software (como el sistema de archivos, el sistema operativo y los servicios). Por lo tanto, un contenedor no es una máquina virtual, aunque tenga su propia IP. Sin embargo, puede considerarse como un dispositivo o nodo independiente dentro de la red.

</div>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Notas</h4>

    Para tener una idea general, podríamos compararlo con una ISO de instalación de un sistema operativo. Sin embargo, la imagen Docker no instala un sistema operativo completo, sino que contiene únicamente lo necesario para ejecutar aplicaciones en un entorno aislado.

</div>
</p>
<h3 id="el-contenedor">El contenedor</h3>
<blockquote>
<p>El contenedor es una capa de lectura y escritura que se añade a una imagen, permitiendo interactuar con ella y ponerla en ejecución.
<figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 810px">
<img class="card-img-top" src="/dwes/fr/docs/02_docker/1_docker/02_contenedores_imagenes/container_hu5364377010260540432.jpg" width="800" height="600">
<figcaption class="card-body px-0 pt-2 pb-0">
<p class="card-text">


Imagen obtenida de https://iesgn.github.io/curso_docker_2021/sesion2/organizacion.html

</p>
</figcaption>
</figure>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Notas</h4>

    El contenedor se crea a partir de una imagen y siempre dependerá de ella. Esto significa que no podremos eliminar la imagen mientras exista un contenedor asociado a ella.

</div>
</p>
</blockquote>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Notas</h4>

    El contenedor almacena los cambios realizados sobre la imagen, funcionando como pequeños incrementos sobre un archivo base. Este enfoque lo convierte en un sistema muy robusto, ágil y ligero.

</div>

<h3 id="contenedor-e-imagen">Contenedor e imagen</h3>


<div class="pageinfo pageinfo-primary">
<h4 id="heading"></h4>
<p><strong>La unión hace la fuerza</strong></p>
<p>El funcionamiento de Docker se basa en crear un contenedor a partir de una imagen, por lo que los conceptos de imagen y contenedor están intrínsecamente relacionados (no se pueden usar de manera individual).</p>
<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Nota</h4>
<pre><code>Todo contenedor siempre dependerá de una única imagen.
</code></pre>
</div>
<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Nota</h4>
<pre><code>Una imagen puede ser la base de uno o muchos contenedores.
</code></pre>
<p>Cada contenedor es un sistema independiente de los demás, con su propia IP y un entorno completamente aislado.</p>
</div>
<figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 810px">
<img class="card-img-top" src="/dwes/fr/docs/02_docker/1_docker/02_contenedores_imagenes/join_img_container_hu17901011678537150505.png" width="800" height="200">
<figcaption class="card-body px-0 pt-2 pb-0">
<p class="card-text">
</p>
</figcaption>
</figure>

</div>


</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f5307d51a1b3bd04f4cef982bbaca0e1">1.3 - Docker Prácticas</h1>
    
	

<div class="pageinfo pageinfo-primary">
<h4 id="__star-comandos__"><strong>&#x2b50; Comandos</strong></h4>
<p>Repaso de <strong>comandos</strong> usados en <strong>docker</strong> en <strong>línea de comados</strong></p>

</div>



<div class="pageinfo pageinfo-primary">
<h4 id="descargando-imágenes">Descargando imágenes</h4>
<blockquote>
<p><strong>pull</strong></p>
<blockquote>
<p>Obtener en local una imagen llamada <strong>ubuntu:latest</strong>::</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    docker pull ubunut:latest
</span></span></code></pre></div>
</div>



<div class="pageinfo pageinfo-primary">
<h4 id="visualizar-imágenes-en-local">Visualizar imágenes en local</h4>
<blockquote>
<p><strong>images</strong></p>
<blockquote>
<p>Listar todas las imágenes del sistema</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker images
</span></span></code></pre></div>
</div>



<div class="pageinfo pageinfo-primary">
<h4 id="buscar-imágenes">Buscar imágenes</h4>
<blockquote>
<p><strong>docker search</strong></p>
<blockquote>
<p>Buscar todas las imágenes que contengan ubuntu cuya distribución empiece por 1</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker search ubuntu:1
</span></span></code></pre></div>
</div>



<div class="pageinfo pageinfo-primary">
<h4 id="crear--un-__contenedor__">Crear  un <strong>contenedor</strong></h4>
<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">docker create</h4>
<pre><code>&lt;p&gt;Hay varios comandos para crear contenedores&lt;/p&gt;
</code></pre>
<p>El comando <strong>create</strong> tiene varias opciones, pero no lo vamos a utilizar nosotras.</p>
<p>No obstante lo comento es este post</p>
</div>
<blockquote>
<p><strong>docker create</strong></p>
<blockquote>
<p>Crea un contenedor basado en la imagen <strong>ubuntu:latest</strong></p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker create ubuntu:latest
</span></span></code></pre></div><hr>
<h5 id="crearlo-vinculándolo-al-terminal">Crearlo vinculándolo al terminal</h5>
<blockquote>
<p><strong>docker create -t</strong></p>
<blockquote>
<p>Crea un contenedor que quede vinculado a un terminal <strong>tty</strong></p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    docker create -t ubuntu:latest
</span></span></code></pre></div><hr>
<h5 id="nombrar-el-contenedor">Nombrar el contenedor</h5>
<blockquote>
<p><strong>docker create  &ndash;name</strong></p>
<blockquote>
<p>Crear un contenedor llamado <strong>web</strong> a partir de la imagen ubuntu:latest y vincúlalo al terminal</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    docker create --name web -t ubuntu:latest
</span></span></code></pre></div><h4 id="creando-comandos-para-interactuar-en-un-terminal">Creando comandos para interactuar en un terminal</h4>
<blockquote>
<p><strong>docker create -t -i</strong></p>
<blockquote>
<p>Crear un contenedor llamada web para interactuar y luego ejecuta un bash <em>(Este comando ejecuta un intérprete de comandos de un sistema operativo)</em></p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> docker rm web
</span></span><span style="display:flex;"><span> docker create --name web -t -i ubuntu:latest
</span></span><span style="display:flex;"><span> docker start web
</span></span><span style="display:flex;"><span> docker <span style="color:#658b00">exec</span> -ti bash
</span></span></code></pre></div><div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Revisa</h4>
<pre><code>Antes de crear el contenedor lo borramos  &lt;br&gt;
</code></pre>
<p>Antes de ejectuar algo, lo tenemos que arrancar  <br>
En este caso el comando start lo deja en estado up, ya que el contenedor fue coreado con <strong>-i</strong>  y <strong>-t</strong></p>
</div>

</div>




<hr style="border-color: red; border-width: 3px;"/>



<div class="pageinfo pageinfo-primary">
<h4 id="crear-un-contenedor-con-run">Crear un contenedor con run</h4>
<blockquote>
<p><strong>run</strong></p>
<blockquote>
<p>Este es uno de los comandos que más vamos a utilizar
Es un comando que tiene muchas opciones, puedes verlas con el comando help</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> docker <span style="color:#658b00">help</span> run
</span></span></code></pre></div><p>Nosotros lo vamos a usar comos se muestra a continuación</p>
<figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 1010px">
<img class="card-img-top" src="/dwes/fr/docs/02_docker/1_docker/03_comandos_docker/run_hu15092407158152754042.png" width="1000" height="300">
<figcaption class="card-body px-0 pt-2 pb-0">
<p class="card-text">
</p>
</figcaption>
</figure>

</div>

<p>

<div class="pageinfo pageinfo-primary">
<h4 id="listar-todos--los-contenedores">Listar todos  los contenedores</h4>
<blockquote>
<p><strong>docker ps -a</strong></p>
<blockquote>
<p>Lista todos los contenedores que tenemos en el sistema</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker ps -a
</span></span></code></pre></div><h4 id="listar-los-contenesores-arrancados">Listar los contenesores arrancados</h4>
<blockquote>
<p>__docker ps __</p>
<blockquote>
<p>Lista todos los contenedores en estado Up</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker ps 
</span></span></code></pre></div>
</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Prueba</h4>

    Si no ponemos <strong>-a</strong> que viene de <strong>all</strong> solo nos mostrará los contenedores que actualmente tenemos arrancados (en estado Up)

</div>




<hr style="border-color: red; border-width: 3px;"/>



<div class="pageinfo pageinfo-primary">
<h4 id="parar-un-contenedor">Parar un contenedor</h4>
<blockquote>
<p><strong>stop</strong></p>
<blockquote>
<p>Para un contenedor (previamente creado)</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> docker start web
</span></span></code></pre></div>
</div>
</p>
<p>


<hr style="border-color: red; border-width: 3px;"/>



<div class="pageinfo pageinfo-primary">
<h4 id="estados-de-un-contenedor">Estados de un contenedor</h4>
<blockquote>
<p><strong>Un contenedor está en uno de los siguientes estados</strong></p>
</blockquote>
<figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 1210px">
<img class="card-img-top" src="/dwes/fr/docs/02_docker/1_docker/03_comandos_docker/estados_hu1039576990795223337.png" width="1200" height="600">
<figcaption class="card-body px-0 pt-2 pb-0">
<p class="card-text">
</p>
</figcaption>
</figure>

</div>
</p>
<p>

<div class="pageinfo pageinfo-primary">
<h4 id="arrancar-el-contenedor-web">Arrancar el contenedor web</h4>
<blockquote>
<p><strong>start</strong></p>
<blockquote>
<p>Arranca un contenedor (previamente creado)</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> docker start web
</span></span></code></pre></div>
</div>



<div class="pageinfo pageinfo-primary">
<h4 id="ejecutar-un-comando-en-un-contenedor">Ejecutar un comando en un contenedor</h4>
<p><strong>&#x2b50; El contenedor tiene que estar en estado Up</strong></p>
<blockquote>
<p><strong>exec</strong></p>
<blockquote>
<p>Ejecuta en un contenedor previamente creado llamado <strong>web</strong> el comando ls <em>(Este comando muestra un listado de ficheros del contenedor)</em></p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    docker <span style="color:#658b00">exec</span> -ti  web ls
</span></span></code></pre></div>
</div>




<hr style="border-color: red; border-width: 3px;"/>
</p>
<p>

<div class="pageinfo pageinfo-primary">
<h4 id="crear-un-contenedor-que-ejecute-una-instrucción-ls">Crear un contenedor que ejecute una instrucción: ls</h4>
<ul>
<li>El contenedor se crea a partir de la imagen <strong>ubuntu:latest</strong></li>
<li>La instrucción que queremos ejecutar es ls</li>
</ul>
<blockquote>
<p><strong>docker run</strong></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> docker run  ubuntu:latest ls
</span></span></code></pre></div><h4 id="crear-un-contenedor-dejarlo-arrancado--ejecuta-una-instrucción-bash">Crear un contenedor, dejarlo arrancado  ejecuta una instrucción: bash</h4>
<ul>
<li>El contenedor queremos que deje abierta un terminal para interactuar con el  bash</li>
</ul>
<blockquote>
<p><strong>docker run</strong></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> docker run  -ti ubuntu:latest bash
</span></span></code></pre></div>
</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Importante</h4>

    <blockquote>
<p>Entiende bien las opciones
-ti se pone para que se quede abierto el terminal que está ejecutando el <strong>bash</strong></p>
</blockquote>

</div>



<div class="pageinfo pageinfo-primary">
<h4 id="crando-un-contenedor-con-run-y-que-tenga-nombre">Crando un contenedor con run y que tenga nombre</h4>
<blockquote>
<p><strong>docker run &ndash;name</strong></p>
<blockquote>
<p>Crea un contenedor llamado web y deja abierto un bash</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>    docker rm web 
</span></span><span style="display:flex;"><span>    docker run -ti --name web ubuntu:latest bash    
</span></span></code></pre></div>
</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Cuidado</h4>

    Si intentamos crear un contenedor cuyo nombre ya exista nos dará un error.
En este

</div>




<hr style="border-color: red; border-width: 3px;"/>
</p>
<p>

<div class="pageinfo pageinfo-primary">
<h4 id="forward-de-puertos">Forward de puertos</h4>
<figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 1010px">
<img class="card-img-top" src="/dwes/fr/docs/02_docker/1_docker/03_comandos_docker/puertos_hu5404208802846507613.png" width="1000" height="800">
<figcaption class="card-body px-0 pt-2 pb-0">
<p class="card-text">
</p>
</figcaption>
</figure>
<blockquote>
<p><strong>docker run -p XXXX:XXXX</strong></p>
<blockquote>
<p>Crea un contenedor llamado web, abriendo un terminal y mapea el puerto 8000 del anfitrión al 80 del contenedor</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> docker rm web 
</span></span><span style="display:flex;"><span> docker run -ti --name web  -p 8000:80 ubuntu:latest bash
</span></span></code></pre></div>
</div>



<div class="pageinfo pageinfo-primary">
<figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 810px">
<img class="card-img-top" src="/dwes/fr/docs/02_docker/1_docker/03_comandos_docker/volumenes_hu17492957187689460622.png" width="800" height="500">
<figcaption class="card-body px-0 pt-2 pb-0">
<p class="card-text">
</p>
</figcaption>
</figure>
<h4 id="compartiendo-carpetas">Compartiendo carpetas</h4>
<blockquote>
<p><strong>docker run -v c:\carpeta_origen:/var/www/html</strong></p>
<blockquote>
<p>Crea un contenedor llamado <strong>web</strong>, abriendo un terminal y comparte la carpeta del directorio actual llamada <strong>app</strong> con la carpeta del docker ubicada en <strong>/var/www/html</strong>. Mapea los puertos anteriores</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> docker rm web 
</span></span><span style="display:flex;"><span> docker run -ti --name web -p 8000:80  -v .<span style="color:#cd5555">\a</span>pp:/var/www/html ubuntu:latest  bash
</span></span></code></pre></div>
</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    <ul>
<li>Cuidado con la barra de separacion de carpetas o directorios <strong>(en windows &ldquo;&quot;, en linux &ldquo;/&rdquo;)</strong>
<ul>
<li>Si la carpeta no existe la crea</li>
</ul>
</li>
</ul>


</div>




<hr style="border-color: red; border-width: 3px;"/>



<div class="pageinfo pageinfo-primary">
<h4 id="creando-una-imagen-a-partir-de-un-contenedor">Creando una imagen a partir de un contenedor</h4>
<blockquote>
<p><strong>docker commit</strong></p>
</blockquote>
<blockquote>
<blockquote>
<p>Para crear una imagen a partir de un contenedor, este debe estar detenido.</p>
<ul>
<li>La imagen que creemos incluirá todo lo que hayamos configurado dentro del contenedor.</li>
<li>El contenido de los volúmenes compartidos no se guarda en la imagen, ya que estos se cargan desde la carpeta compartida por el anfitrión.</li>
<li>La forma de referenciar una imagen, el nombre que le pongamos en este caso,  siempre será con su nombre y tag (separados por dos puntos),lo que nos permitirá crear diferentes versiones (mismo nombre, diferente tag).</li>
</ul>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> docker commit nombre_contenedor nombre_imagen:tag 
</span></span></code></pre></div>
</div>
</p>
<p>

<div class="pageinfo pageinfo-primary">
<h4 id="login-en-docker-hub">Login en Docker Hub</h4>
<p><strong>docker login</strong></p>
<blockquote>
<blockquote>
<p>Permite autenticarse en Docker Hub para poder interactuar con los repositorios de imágenes.<br>
Se utiliza para subir, descargar o gestionar imágenes desde la cuenta de Docker Hub.<br>
Solicita las credenciales de acceso (usuario y contraseña).</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker login
</span></span></code></pre></div><div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Nota</h4>
<pre><code>&lt;blockquote&gt;
</code></pre>
<p>Este comando es necesario para poder hacer un push de imágenes a Docker Hub.
Tras ejecutar docker login, se te solicitará el nombre de usuario y la contraseña.</p>
</blockquote>
</div>

</div>



<div class="pageinfo pageinfo-primary">
<h4 id="subir-una-imagen-a-docker-hub">Subir una imagen a Docker Hub</h4>
<p><strong>docker push</strong></p>
<blockquote>
<blockquote>
<p>Sube una imagen local a un repositorio en Docker Hub.
Debes estar autenticado en Docker Hub (previamente con docker login).
La imagen debe estar correctamente etiquetada con el formato <usuario>/&lt;nombre_imagen&gt;:<tag>.</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker push usuario/nombre_imagen:tag
</span></span></code></pre></div><h5 id="ejemplos">Ejemplos:</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker push miusuario/miapp:v1.0
</span></span><span style="display:flex;"><span>docker push miusuario/miapp:latest
</span></span></code></pre></div><div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Nota</h4>
<pre><code>&lt;blockquote&gt;
</code></pre>
<p>El comando docker <strong>push</strong> requiere que la imagen esté etiquetada con el nombre del usuario de Docker Hub.
tag puede ser cualquier etiqueta que se desee utilizar para versionar la imagen (latest, v1.0, etc.).
Si no especificas un tag, Docker usará latest por defecto.</p>
</blockquote>
</div>

</div>
</p>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9739885f79c66da9ed5d2b6b2fe68c63">1.4 - Docker Prácticas</h1>
    
	<p>

<div class="pageinfo pageinfo-primary">

> Ejercicios para practicar con docker


</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading"> Estructura de los ejercicios</h4>

    <h4 id="clipboard-cada-página-observarás">&#x1f4cb; Cada página observarás</h4>
<ol>
<li>Tendrás un listado de los comandos a utilizar</li>
<li>Tendrás un enuniciado muy escueto de una línea</li>
<li>En la sesión se abrirá una página con una posible solución</li>
</ol>


</div>
</p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-080bdfaac88decf3b7257d39baf6b742">1.4.1 - Crea imágenes</h1>
    
	<h2 id="__descargar-ver-y-borrar-imágenes__"><strong>Descargar, ver y borrar imágenes</strong></h2>
<ul>
<li>Comandos a usar</li>
</ul>
<blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker pull
</span></span><span style="display:flex;"><span>docker images
</span></span><span style="display:flex;"><span>docker rmi nombre_imagen
</span></span><span style="display:flex;"><span>docker rmi (docker images)
</span></span></code></pre></div></blockquote>
<h5 id="__1-descarga-una-imagen-llamada--hahahugoshortcode21s0hbhb__"><strong>1. Descarga una imagen llamada  
<strong>
<span class="font-weight-bold text-text-success">

    ubuntu_latest


</span>
</strong>
</strong></h5>
<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker pull ubuntu:latest" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h5 id="__2-descarga-una-imagen-llamada--hahahugoshortcode21s2hbhb__"><strong>2. Descarga una imagen llamada  
<strong>
<span class="font-weight-bold text-text-success">

    manolo/web:v1


</span>
</strong>
</strong></h5>
<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker pull manolo/web:v1" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h5 id="__3-verficia-que-las-has-descargado-listándolas__"><strong>3. Verficia que las has descargado listándolas</strong></h5>
<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker images" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h5 id="__4-borra-la-imagen-llamada-manolowebv10__"><strong>4. Borra la imagen llamada manolo/web:v10</strong></h5>
<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker rmi manolo/web:v10" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h5 id="__5-verifica-que-la-has-borrado__"><strong>5. Verifica que la has borrado</strong></h5>
<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker images" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h5 id="__6-vuelve-a-cargar-una-imagen-llamada--manolowebv10__"><strong>6. Vuelve a cargar una imagen llamada  manolo/web:v10</strong></h5>
<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker pull manolo/web:v1" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h5 id="__7-borra-todas-las-imágemes__"><strong>7. Borra todas las imágemes</strong></h5>
<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker rmi (docker images)" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h5 id="__8-verifica-que-no-tienes-ninguna-imagen__"><strong>8. Verifica que no tienes ninguna imagen</strong></h5>
<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker images" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-cb2775e9bf7732cb075419e2a3dac61d">1.4.2 - Crea Contenedores</h1>
    
	<h2 id="__crear-y-usar-contenedores__"><strong>Crear y usar contenedores</strong></h2>
<ul>
<li>Comandos a usar</li>
</ul>
<blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker create
</span></span><span style="display:flex;"><span>docker start
</span></span><span style="display:flex;"><span>docker <span style="color:#658b00">exec</span>
</span></span><span style="display:flex;"><span>docker run 
</span></span><span style="display:flex;"><span>docker run --name
</span></span><span style="display:flex;"><span>docker run --name xxx --hostname xxx -p xxxx:xx v xx:xxx nombre_imagen
</span></span></code></pre></div></blockquote>
<h2 id="__crea-lista-y-borra-contenedores__"><strong>Crea, lista y borra contenedores</strong></h2>
<ul>
<li>Comandos a usar</li>
</ul>
<blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker create
</span></span><span style="display:flex;"><span>docker start
</span></span><span style="display:flex;"><span>docker <span style="color:#658b00">exec</span> 
</span></span><span style="display:flex;"><span>&gt; docker ps -a
</span></span><span style="display:flex;"><span>docker rm nombre_contenedor
</span></span><span style="display:flex;"><span>docker rm (docker ps -a- q)
</span></span></code></pre></div></blockquote>
<p><em>Si estás en linux o en mac</em></p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> docker rm <span style="color:#8b008b;font-weight:bold">$(</span>docker ps -a -q<span style="color:#8b008b;font-weight:bold">)</span>
</span></span></code></pre></div><h4 id="__1-crea-5-contenedor-a-partir-de-la-imagen-hahahugoshortcode23s0hbhb-sin-especificar-nombre__"><strong>1. Crea 5 contenedor a partir de la imagen 
<strong>
<span class="font-weight-bold text-text-success">

    ubuntu:latest


</span>
</strong>
 sin especificar nombre</strong></h4>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker create ubuntu:latest docker create ubuntu:latest docker create ubuntu:latest docker create ubuntu:latest docker create ubuntu:latest" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




<h4 id="__2-verifica-que-los-has-creado__"><strong>2. Verifica que los has creado</strong></h4>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker ps -a" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>






<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Revisa con cuidado</h4>

    <h4 id="mag-reflexiona">&#x1f50d; Reflexiona</h4>
<ul>
<li>Observa que te tienen que salir en estado <strong>created</strong></li>
</ul>
<blockquote>
<p>Has de intentar enteder qué implica este estado y ver que en este contenedor <strong>no puedo ejecutar</strong> nada hasta que no
esté en estado <strong>Up</strong></p>
</blockquote>
<ul>
<li>Observa igualmente el nombre que el sistema le a asignado al contenedor</li>
</ul>

</div>

<h4 id="__3-verifica-que-los-has-creado__"><strong>3. Verifica que los has creado</strong></h4>
<p>



<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker ps -a" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>






<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Revisa con cuidado</h4>

    <h6 id="mag-reflexiona">&#x1f50d; Reflexiona</h6>
<ul>
<li>Observa que si solo escribes <strong>docker ps</strong> no sale nada</li>
<li>Esto es porque docker ps solo muestar los contenedores que están en estado <strong>Up</strong></li>
</ul>


</div>
</p>
<h4 id="__4-borra-todos-los-contenedores-y-verificalo__"><strong>4. Borra todos los contenedores y verificalo</strong></h4>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker rm (docker ps -a -q) docker ps -a" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




<hr>
<h4 id="__5-crea-un-contenedor-llamado-hahahugoshortcode23s7hbhb-a-partir-de-la-imagen-hahahugoshortcode23s8hbhb__"><strong>5. Crea un contenedor llamado 
<strong>
<span class="font-weight-bold text-text-success">

    web


</span>
</strong>
 a partir de la imagen 
<strong>
<span class="font-weight-bold text-text-success">

    ubuntu:latest


</span>
</strong>
</strong></h4>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">parámetros</h4>

    <h4 id="woman_detective-revisa-los-parámetros">:woman_detective: revisa los parámetros</h4>
<ul>
<li>Puedes ver los parámetros de un comando con <strong>docker help comando</strong></li>
<li>seguimos usando el comando <strong>create</strong> para crear contenedores</li>
</ul>


</div>

<blockquote>

 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker create --name web ubuntu:latest" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__6-arranca-el-contenedor__"><strong>6. Arranca el contenedor</strong></h4>
<blockquote>

 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker start web" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__7-observa-su-estado__"><strong>7. Observa su estado</strong></h4>
<blockquote>
<p>
 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker ps -a" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>






<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">parámetros</h4>

    <h4 id="mag-estados-del-contenedor">&#x1f50d; estados del contenedor</h4>
<ul>
<li>Entender los estados del contenedor al principio cuesta</li>
<li>Un contenedor, cuando lo arrancamos ejectua el servicio o programa que tenga asignado <strong>estado Up</strong> y luego se detiene
<strong>estado Exited</strong></li>
<li>Al revisar este ejercicio verás que el contenedor pasa directamente a estado Exited, y es porque el contenedor al
estar creado a partir de la imagen ubuntu:latest sí que tiene asociado un commando (revisa la columna <strong>COMMAND</strong>)</li>
<li>Pero como no tiene ningún terminal asociado para interactuar con él, no hace nada y muere</li>
</ul>


</div>
</p>
</blockquote>
<h4 id="__8-borra-todos-los-contenedores__"><strong>8. Borra todos los contenedores</strong></h4>
<blockquote>

  


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker rm (docker ps -a -q)" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__9-crea-un-contenedor-llamado-web-que-permita-ejecutar-comandos-en-un-terminal-de-forma-interactiva-a-partir-de-la-imagen-ubuntu_latest__"><strong>9. Crea un contenedor llamado web que permita ejecutar comandos en un terminal de forma interactiva a partir de la imagen ubuntu_latest</strong></h4>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Usa Help</h4>

    <h4 id="woman_detective-revisa-los-parámetros">:woman_detective: revisa los parámetros</h4>
<ul>
<li>Puedes ver los parámetros de un comando con <strong>docker help comando</strong></li>
<li>En este caso <strong>docker help create</strong></li>
<li>En este caso lo podemos asociar con el comando <strong>-t</strong> para terminal y <strong>-i</strong> para ineteractive</li>
</ul>


</div>

<blockquote>

 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker create -t -i --name web ubuntu:latest" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__10-arranca-el-contenedor__"><strong>10. Arranca el contenedor</strong></h4>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Parámetros</h4>

    <h4 id="woman_detective-revisa-los-parámetros">:woman_detective: revisa los parámetros</h4>
<ul>
<li>Para arrancar <strong>docker start</strong></li>
</ul>


</div>

<blockquote>

 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker start web" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__11-ejecuta-de-forma-interactiva--i-en-un-terminal--t-un-comado-bash__"><strong>11. Ejecuta de forma interactiva (-i) en un terminal (-t) un comado bash</strong></h4>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Parámetros</h4>

    <h4 id="woman_detective-revisa-los-parámetros">:woman_detective: revisa los parámetros</h4>
<ul>
<li>Revisa el comando <strong>docker exec</strong></li>
<li>Los parámetros -i y -t</li>
<li>el orden es primero especificar el contenedor y luego el comando</li>
<li>bash es un programa que sirve para interpretar comandos, como cuando abrimos un shell en windows</li>
</ul>


</div>

<blockquote>

 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker exec -i -t web bash " />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__12-para-el-contenedor__"><strong>12. Para el contenedor</strong></h4>
<blockquote>

 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker stop web" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__13-revisa-su-estado__"><strong>13. Revisa su estado</strong></h4>
<blockquote>

 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker ps -a" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__14-borra-todos-los-contenedores__"><strong>14. Borra todos los contenedores</strong></h4>
<blockquote>

 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker rm (docker ps -a -q) " />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__15-crea-un-contenedor-llamado-hahahugoshortcode23s24hbhb-que-se-quede-arrancado-a-partir-de-la-imagen-hahahugoshortcode23s25hbhb__"><strong>15. Crea un contenedor llamado 
<strong>
<span class="font-weight-bold text-text-success">

    web


</span>
</strong>
 que se quede arrancado a partir de la imagen 
<strong>
<span class="font-weight-bold text-text-success">

    ubuntu_latest


</span>
</strong>
</strong></h4>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Los estados del contenedor</h4>

    <h4 id="male_detective">&#x1f575;&#xfe0f;&zwj;&#x2642;&#xfe0f;</h4>
<ul>
<li>Si queremos dejar el contenedor en estado <strong>Up</strong> debemos usar el comando <strong>docker run</strong></li>
<li>No es necesario, pero mejor especifica el comando al final (bash)</li>
<li>Aunque el orden de los parámetros no es importante, la solución tiene uno concreto, pero eso podría cambiar</li>
</ul>


</div>

<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker run --name web -t -i ubuntu:latest bash" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__16-instala-apache2-y--php-en-el-contendor-web__"><strong>16. Instala apache2 y  php en el contendor web</strong></h4>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">instando:  apt update</h4>

    <h4 id="books">&#x1f4da;</h4>
<ul>
<li>Una vez dentro lo primero que hay que hacer es <strong>apt update</strong></li>
<li>se pueden instalar todos los paquetes a la vez</li>
<li>con <strong>-y</strong> no nos preguntará si queremos instalarlo</li>
<li>php implica dos paquetes <strong>php</strong>, el intérprete, y el módulo que viene con apache para que apache sepa que un determinado recurso que tiene extensión php, tiene que llamar al intérprete para que lo ejectue, este es el paquete <strong>libapache2-mod-php</strong></li>
</ul>


</div>

<blockquote>

 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "apt update apt install -y apache2 php libapache2-mod-php" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__17-arranca-el-servicio-de-apache__"><strong>17. Arranca el servicio de apache</strong></h4>
<p>



<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "service apache start" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>






<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">parando y arrancando</h4>

    &#x25b6;&#xfe0f; &#x1f6d1;
*Prueba a pararlo (<strong>stop</strong>), a ver su estado (<strong>status</strong>)  y volverlo a arrancar (<strong>start</strong>|<strong>restart</strong>)

</div>
</p>
<h4 id="__18-borra-el-contendor-web__"><strong>18. Borra el contendor web</strong></h4>
<p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    &#x1f4a1;
Antes de elimniar el contenedor tiene que estar parado

</div>





<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker stop web docker rm web" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>



</p>
<h4 id="__19-crea-igual-que-antes-el-contenedor-web-pero-mapeando-el-puerto-hahahugoshortcode23s34hbhb__"><strong>19. Crea igual que antes el contenedor web, pero mapeando el puerto 
<strong>
<span class="font-weight-bold text-text-success">

    8000:80


</span>
</strong>
</strong></h4>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Recuerda</h4>

    <h6 id="warning-muy-importante">&#x26a0;&#xfe0f; Muy importante</h6>
<p>Es muy importante que entiendas el concepto</p>

</div>

<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker run --name web -t -i -p 8000:80 ubuntu:latest bash" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__20-instala-apache2-y--php-en-el-contendor-web__"><strong>20. Instala apache2 y  php en el contendor web</strong></h4>
<blockquote>

> 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "apt update apt install -y apache2 php libapache2-mod-php" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        <blockquote>
</blockquote>

    
</form>




</blockquote>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e1f1e45c4523f9c2e90bbea36ff81cb9">1.4.3 - Contenedores</h1>
    
	<h2 id="__contenedores--imágenes__"><strong>Contenedores =&gt; imágenes</strong></h2>


<div class="pageinfo pageinfo-primary">
<h4 id="__heavy_exclamation_mark-como-crear-nuestras-imágenes__"><strong>&#x2757; Como crear nuestras imágenes</strong></h4>
<p>En esta sección realizaremos acciones para pasar crear <strong>nuestras imágenes</strong> a partir de <strong>contenedores</strong></p>
<p>Una imagen es la plantilla para un contenedor, y contiene un sistema de archivos con una determinada versión de sistema operativo a partir del sistema operativo del anfitrión, y una serie de programas o servicios que se han añadido<br>
La forma de construir una imagen es en capas, según le vamos añadiendo elementos. <br>
La idea es tener un contenedor según nuestra necesidad, y con él, crear una imagen<br>
:</p>

</div>

<ul>
<li>Comandos a usar</li>
</ul>
<blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker commit
</span></span><span style="display:flex;"><span>docker push
</span></span><span style="display:flex;"><span>docker <span style="color:#658b00">export</span>
</span></span><span style="display:flex;"><span>docker import
</span></span></code></pre></div></blockquote>
<h4 id="__1-crea-una-imagen-llamada-hahahugoshortcode25s1hbhb-a-partir-del-conenedor-hahahugoshortcode25s2hbhb__"><strong>1. Crea una imagen llamada 
<strong>
<span class="font-weight-bold text-text-success">

    web:v1


</span>
</strong>
 a partir del conenedor 
<strong>
<span class="font-weight-bold text-text-success">

    web


</span>
</strong>
</strong></h4>
<blockquote>
<p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Revisa</h4>

    <h4 id="__mag-verifica-antes__"><strong>&#x1f50d; verifica antes</strong></h4>
<ol>
<li>Revisa que tienes ese contenedor creado en el ejercicio anterior</li>
<li>En este ejercicio teníamos apache y php y tenemos realizado el forward del puerto 8000:80</li>
</ol>
<blockquote>
</blockquote>


</div>





<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker stop web docker commit web web:v1" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>



</p>
</blockquote>
<h4 id="__2-verifica-que-has-creado-la-imagen__"><strong>2. Verifica que has creado la imagen</strong></h4>
<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker images" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__3-crea-con-run-un-contenedor-pero-compartiendo-una-carpeta__"><strong>3. Crea con run, un contenedor, pero compartiendo una carpeta</strong></h4>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Recuerda</h4>

    <h4 id="__memo-revisa-los-comandos__"><strong>&#x1f4dd; Revisa los comandos</strong></h4>
<ul>
<li>Mira la ayuda del comando run , revisa la opción <strong>-v</strong></li>
<li>La carpeta en local la crearemos en el directorio actual y la llamaremos <strong>app</strong></li>
<li>En el docker la carpeta serán <strong>/var/www/html</strong> que es dónde apache va a ir buscar los recursos cuando se los soliciten su <strong>DocumentRoot</strong></li>
<li>Ten cuidado con el caracter de separar directorios, en windows es <strong>&quot;\&quot;</strong> en linux y mac es <strong>&quot;/&quot;</strong></li>
</ul>


</div>

<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker run -t -i -v .\app:/var/www/html web:v1 bash" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__4-crear-un-fichero-tar--llamado-webtar-con-el-contenedor__"><strong>4. Crear un fichero tar  llamado web.tar con el contenedor</strong></h4>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Interesante</h4>

    <strong>#####&#x1f31f; Puede ser que quieras tener tu imagen en un fichero</strong><br>
Con este comando vamos a crear un <strong>fichero tar</strong> a partir de un <strong>contenedor</strong> <br>
El contenedor tiene que estar parado <strong>stop</strong>.<br>
Con la opción <strong>-o</strong> especificamos el nombre del fichero <strong>tar</strong><br>
Lo que se almacena  en el <strong>fichero tar</strong> es <strong>la imagen del contenedor</strong>, es decir me guardo una image, luego cuando lo exporte, __exportaré <strong>una imagen</strong> de la cual tendré que crear <strong>un contenedor</strong><br>
<strong>&#x1f4dd; Muy interesante reflexionar y entender este pequeño escenario</strong>

</div>

<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker stop web docker export -o web.tar web" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__5-crea-una-imagen-llamada-hahahugoshortcode25s10hbhb-a-partir-del-fichero-hahahugoshortcode25s11hbhb__"><strong>5. Crea una imagen llamada 
<strong>
<span class="font-weight-bold text-text-success">

    web:v2


</span>
</strong>
 a partir del fichero 
<strong>
<span class="font-weight-bold text-text-success">

    web.tar


</span>
</strong>
</strong></h4>
<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker import web.tar web:v2" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__6-confirma-que-lo-has-creado__"><strong>6. Confirma que lo has creado</strong></h4>
<blockquote>

 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker images" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__7-crea-un-contenedor-llamado-web2-a-patir-de-la-imagen-webv2__"><strong>7. Crea un contenedor llamado web2 a patir de la imagen web:v2</strong></h4>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    <ul>
<li>Realiza el forward de los puertos 8002:80 (seguramente el 8000 esté ocupado)</li>
<li>Mapea o crea el volumen de capetas .\app:/var/www/html</li>
</ul>


</div>

<blockquote>

 


<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker run -t -i -p 8002:80 -v .\app:/var/www/html web:v2 bash" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__7-hazte-una-cuenta-en-docker-hub__"><strong>7. Hazte una cuenta en docker hub</strong></h4>
<p>

<div class="pageinfo pageinfo-primary">
<ul>
<li>Conectate a docker hub  <strong><a href="https://hub.docker.com/">https://hub.docker.com/</a></strong></li>
<li>En <strong>sign up</strong> te podrás registrar</li>
</ul>

</div>

<figure class="card rounded p-2 td-post-card mb-4 mt-4" style="max-width: 882px">
<img class="card-img-top" src="/dwes/fr/docs/02_docker/1_docker/04_ejercicios/3_contenedores_imagenes/dockerhub_hu6343802249552047288.png" width="872" height="299">
<figcaption class="card-body px-0 pt-2 pb-0">
<p class="card-text">





</p>
</figcaption>
</figure>
</p>
<h4 id="__7-accede-en-línea-de-comandos-a-tu-cuenta__"><strong>7. Accede en línea de comandos a tu cuenta</strong></h4>
<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker login" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>
<h4 id="__7-sube-la-imagen-webv1-que-tienes-en-tu-sistema__"><strong>7. Sube la imagen web:v1 que tienes en tu sistema</strong></h4>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Observación en la solución</h4>

    &#x1f50d; En la solución he puesto el nombre que corresponde a mi namespace, que es el nombre de usuario de docker hub, <strong>manolo</strong>, para especificar en nameespace, cada una tendréis el vuetro propio.

</div>

<blockquote>




<form action="procesar.php" method="POST">

    <textarea id="texto" name="respuesta" rows="4" cols="50">
    </textarea>
    <input type='hidden' name='solucion' value= "docker push manolo/web:v1" />
    <br>
    <input type="submit" value="Evaluar" name="ejercicio">
    
        
    
</form>




</blockquote>

</div>



    
      
  
  
  
  

  
  

  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9db37789e1d29d0aec9796e36ca446e8">1.5 - Gestión de archivos y directorios</h1>
    
	

<div class="pageinfo pageinfo-primary">
<h3 id="__star-comandos__"><strong>&#x2b50; Comandos</strong></h3>
<p>Repaso de <strong>comandos</strong> usados en <strong>Dockefiler</strong>
<strong>Docerfile</strong> es un fichero de comandos para generar una <strong>imagen</strong></p>

</div>

<p>

<div class="pageinfo pageinfo-primary">
<h4 id="crear-la-imagen-a-partir-del-fichero-de-especificación-dockerfile">Crear la imagen a partir del fichero de especificación Dockerfile</h4>
<blockquote>
<p><strong>docker build</strong> <em>ubicación_fichero_Dockerfile</em></p>
<blockquote>
<p>Crea una imagen a partir del fichero Dockerfile ubicado en el mismo directorio de dónde lanzo el comando</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker build -t web:v1 .
</span></span></code></pre></div>
</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    <ul>
<li>la opción <strong>-t</strong> permite especificar el nombere de la imagen</li>
<li>el punto final <strong>&rsquo;.&rsquo;</strong> especifica la ubicación del fichero <strong>Dockerfile</strong>, el directorio actual</li>
<li>Para ver más opciones del comando <strong>build</strong> ver</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>_docker <span style="color:#658b00">help</span> build
</span></span></code></pre></div>

</div>




<hr style="border-color: red; border-width: 3px;"/>
</p>
<p>

<div class="pageinfo pageinfo-primary">
<h4 id="especificar-la-imagen-base">Especificar la imagen base</h4>
<blockquote>
<p><strong>FROM</strong></p>
<blockquote>
<p>Especifica que la imagen sean ubuntu:latest</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">FROM</span><span style="color:#cd5555"> ubuntu:latest</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></div>
</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Comentarios</h4>

    <ul>
<li>Debe de ser la primera instrucción</li>
<li>Su aparición es obligatoria</li>
<li>Solo le pueden preceder comentarios <strong>&rsquo;#&rsquo;</strong> y la instrucción <strong>ARG</strong></li>
</ul>


</div>




<hr style="border-color: red; border-width: 3px;"/>



<div class="pageinfo pageinfo-primary">
<h4 id="especificar-una-instrucción-a-ejectuar-dentro-de-la-imagen">Especificar una instrucción a ejectuar dentro de la imagen</h4>
<blockquote>
<p><strong>RUN</strong></p>
<blockquote>
<p>Que se instale  <strong>apache2</strong>, el editor <strong>vim</strong> y la herramientas para monitoreo de redes <strong>net-tools</strong> en la imagen</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">FROM</span><span style="color:#cd5555"> ubuntu:latest</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">RUN</span> apt update &amp;&amp; apt install -y <span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>apache2<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span>vim<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span>net-tools<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></div>
</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Comentarios</h4>

    <ul>
<li>el &amp;&amp; hace que no ejecute la instrucción  de la derecha, hasta que no haya ejecutado la de la izquierda</li>
<li>La barra <strong>&rsquo;'</strong> es una forma de seguir en la línea sigueinte como si fuera la misma</li>
<li>Se puede ejecutar también un fichero externo que copiemos o cualquier instrucción.</li>
</ul>


</div>
</p>



<hr style="border-color: red; border-width: 3px;"/>

<p>

<div class="pageinfo pageinfo-primary">
<h4 id="especificar-argumentos">Especificar argumentos</h4>
<blockquote>
<p><strong>ARG</strong></p>
<blockquote>
<p>Establece argumentos para la construcción de la imagen del Dockerfile actual. Establece el tag de la versión como un argumenteo <strong>$version</strong></p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">ARG</span> <span style="color:#00688b">version</span>=latest
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">FROM</span><span style="color:#cd5555"> ubuntu:$version</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">RUN</span> <span style="color:#658b00">echo</span> <span style="color:#cd5555">&#34;Valor de version -</span><span style="color:#00688b">$version</span><span style="color:#cd5555">&#34;</span> version.txt<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></div>
</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Comentarios</h4>

    <ul>
<li>El valor de los argumentos especificados con <strong>ARG</strong> no se mantienen más ayá de la ejecución del fichero <strong>Dockerfile</strong></li>
<li>Se puede modificar el valor de los argumentos a la hora de construir la imagen</li>
</ul>
<blockquote>
<p><strong>docker build -t web - -build-arg=18:01 .</strong></p>
</blockquote>

</div>
</p>
<hr style="border-color: red; border-width: 3px;"/>
<p>

<div class="pageinfo pageinfo-primary">
<h4 id="especificando">Especificando</h4>
<blockquote>
<p><strong>ARG</strong></p>
<blockquote>
<p>Establece argumentos para la construcción de la imagen del Dockerfile actual. Establece el tag de la versión como un argumenteo <strong>$version</strong></p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">ARG</span> <span style="color:#00688b">version</span>=latest
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">FROM</span><span style="color:#cd5555"> ubuntu:$version</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">RUN</span> <span style="color:#658b00">echo</span> <span style="color:#cd5555">&#34;Valor de version -</span><span style="color:#00688b">$version</span><span style="color:#cd5555">&#34;</span> &gt;&gt; version.txt<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></div><div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Comentarios</h4>
<pre><code>&lt;ul&gt;
</code></pre>
<li>Al crear la imagen se puede visualizar el contenido del fichero version.txt y ver que no hay valor para la variable</li>
<li>El operador &ldquo;&raquo;&rdquo; lo que hace es dirigir el contenido de la izquierda al fichero, es un operador de direccionameinto.</li>
<li>Se puede modificar el valor de los argumentos a la hora de construir la imagen</li>
</ul>
<blockquote>
<p><strong>docker build -t web - -build-arg=18:01 .</strong></p>
</blockquote>
</div>
 <hr style="border-color: red; border-width: 3px;"/>

</div>



<div class="pageinfo pageinfo-primary">
<h4 id="especificar-variables-de-entorno-disponibles-en-la-construcción-y-en-la-imagen-cuando-se-construya">Especificar variables de entorno (disponibles en la construcción y en la imagen cuando se construya)</h4>
<blockquote>
<p><strong>ENV</strong></p>
<blockquote>
<p>Establece una variable llamada $user, comprueba que existe en la imagen creada</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">ARG</span> <span style="color:#00688b">version</span>=latest
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">FROM</span><span style="color:#cd5555"> ubuntu:$version</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">ENV</span> <span style="color:#00688b">user</span>=manuel
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">RUN</span> <span style="color:#658b00">echo</span> <span style="color:#cd5555">&#34;Valor de usuario -</span><span style="color:#00688b">$user</span><span style="color:#cd5555">&#34;</span> &gt;version.txt<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></div><ul>
<li>A contunuación creamos el contenedor y vemos el contenido del fichero</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span>docker build -t web:v1 .<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span>docker run web:v1 cat version.txt<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></div>
</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Comentarios</h4>

    &#x1f4dd; En este ejemplo, al contenedor le decimos que muestre <em>el contenido del fichero version.txt</em> con el comando <strong>cat</strong>

</div>
</p>



<hr style="border-color: red; border-width: 3px;"/>

<p>

<div class="pageinfo pageinfo-primary">
<h4 id="copiar-ficheros-del-contesto-a-la-imagen">Copiar ficheros del contesto a la imagen</h4>
<blockquote>
<p><strong>COPY</strong></p>
<blockquote>
<p>Copia un fichero llamado index.php a una imagen basada en ubuntu:latest, que tenga apache y php</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">FROM</span><span style="color:#cd5555"> ubuntu:latest</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">ARG</span> <span style="color:#00688b">DEBIAN_FRONTEND</span>=noninteractive
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">RUN</span> apt update &amp;&amp; apt install -y <span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    apache2<span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    php<span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    libapache2-mod-php<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">COPY</span> index.php /var/www/html/index.php    <span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></div><ul>
<li>El contenido del fichero <strong>index.php</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>&lt;?php
</span></span><span style="display:flex;"><span>phpinfo();
</span></span><span style="display:flex;"><span><span style="color:#1e889b">?&gt;</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></div><ul>
<li>La construcción del contenedor</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run -d -p 8000:80 --name web web:v1 sh -c <span style="color:#cd5555">&#34;service apache2 start &amp;&amp; tail -f /dev/null&#34;</span>
</span></span></code></pre></div><ul>
<li>Abrimo apache y vemo el index.php
<img alt="img.png" src="/dwes/fr/docs/02_docker/1_docker/05_resumen_instrucciones_docker_file/img.png"></li>
</ul>

</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Comentarios</h4>

    <p>&#x1f4dd; En este ejemplo, el comando que ejecutamos en el contenedor es <strong>sh -c</strong>&quot; <em>comando_o_lista_comandos</em>_ &ldquo;__</p>
<ul>
<li>El comando para arrancar el servicio <strong>service apache2 start</strong></li>
<li>Y para que no se termine el proceso ejectuamos un comando que deja abierto un fichero <strong>tail -f /dev/null</strong></li>
</ul>

</div>




<hr style="border-color: red; border-width: 3px;"/>



<div class="pageinfo pageinfo-primary">
<h4 id="add-copiar-ficheros-del-contesto-a-la-imagen">ADD: Copiar ficheros del contesto a la imagen.</h4>
<h4 id="cmd-ejecuta-un-comando-cuando-se-inicia-el-contenedor">CMD ejecuta un comando cuando se inicia el contenedor.</h4>
<blockquote>
<p><strong>ADD</strong> <strong>CMD</strong></p>
<blockquote>
<p><strong>ADD</strong> Copia un fichero llamado <a href="https://github.com/MAlejandroR/json_tv/blob/main/tv.json">https://github.com/MAlejandroR/json_tv/blob/main/tv.json</a> en una imagen</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">FROM</span><span style="color:#cd5555"> ubuntu:latest</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">ARG</span> <span style="color:#00688b">DEBIAN_FRONTEND</span>=noninteractive
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">RUN</span> apt update &amp;&amp; apt install -y <span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    apache2<span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    php<span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    libapache2-mod-php<span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    php-json<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">ADD</span> https://raw.githubusercontent.com/MAlejandroR/json_tv/main/tv.json  /var/www/html/tv.json<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">COPY</span> index.php /var/www/html<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">RUN</span> chmod <span style="color:#b452cd">775</span> /var/www/html/*<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">CMD</span> sh -c <span style="color:#cd5555">&#34;service apache2 start &amp;&amp; tail -f /dev/null&#34;</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></div><ul>
<li>El contenido del fichero <strong>index.php</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span>&lt;?php
</span></span><span style="display:flex;"><span><span style="color:#00688b">$tv</span> = file_get_contents(<span style="color:#cd5555">&#34;tv.json&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#00688b">$cadenas</span> = json_decode(<span style="color:#00688b">$tv</span>, <span style="color:#8b008b;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">foreach</span> (<span style="color:#00688b">$cadenas</span> <span style="color:#8b008b;font-weight:bold">as</span> <span style="color:#00688b">$cadena</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">echo</span> <span style="color:#cd5555">&#34;&lt;h1&gt;</span><span style="color:#cd5555">{</span><span style="color:#00688b">$cadena</span>[<span style="color:#cd5555">&#39;name&#39;</span>]<span style="color:#cd5555">}</span><span style="color:#cd5555">&lt;/h1&gt;&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">foreach</span> (<span style="color:#00688b">$cadena</span>[<span style="color:#cd5555">&#39;channels&#39;</span>] <span style="color:#8b008b;font-weight:bold">as</span> <span style="color:#00688b">$canal</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">echo</span> <span style="color:#cd5555">&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555">        &lt;a href=&#39;</span><span style="color:#cd5555">{</span><span style="color:#00688b">$canal</span>[<span style="color:#cd5555">&#39;web&#39;</span>]<span style="color:#cd5555">}</span><span style="color:#cd5555">&#39;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555">            &lt;img src = &#39;</span><span style="color:#cd5555">{</span><span style="color:#00688b">$canal</span>[<span style="color:#cd5555">&#39;logo&#39;</span>]<span style="color:#cd5555">}</span><span style="color:#cd5555">&#39;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555">        &lt;/a&gt;&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">echo</span> <span style="color:#cd5555">&#34;&lt;hr style=&#39;background-color:green;height:10px&#39; /&gt;&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#1e889b">?&gt;</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></div><ul>
<li>La construcción del contenedor</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run -d -p 8000:80 --name web web:v1 
</span></span></code></pre></div><ul>
<li>Solicitamos el recurso en un navegador y vemos el resultado <br>
<img alt="img_1.png" src="/dwes/fr/docs/02_docker/1_docker/05_resumen_instrucciones_docker_file/img_1.png"></li>
</ul>

</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Comentarios</h4>

    <p>&#x1f4dd; En este ejemplo es un poco complicado, comentamos</p>
<ul>
<li>Recupero el fichero que hay en la web <strong>tv.json</strong></li>
<li>Tengo que instalar una extensión de php (<strong>phgp-json</strong>) para leer su contenido que es un <strong>json</strong>.</li>
<li>Tengo que dar <strong>permisos</strong> para que apache pueda leer su contendio</li>
<li>Cuidado con las barras si quiero especificar <strong>&quot;./tv.js&quot;</strong> vs <strong>&quot;.\tv.js&quot;</strong></li>
<li>&#x1f604;El código de php ya lo realizaremos cuando empecemos con ese tema &#x1f604;</li>
<li>No tenemos que especificar ningún comando para que se ejecute el contenedor</li>
<li>El <strong>-d</strong> es para especificar que se ejecute el contenedor en background.</li>
</ul>

</div>


  
  
  <hr style="border-color: red; border-width: 3px;"/>
</p>
<p>

<div class="pageinfo pageinfo-primary">
<h4 id="especificar-el-puerto-que-voy-a-mapear-o-realizar-el-forware">Especificar el puerto que voy a mapear o realizar el forware</h4>
<blockquote>
<p><strong>EXPOSE</strong></p>
<blockquote>
<p>Establece que vas a realizar un forwar sobre el puerto 80</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">FROM</span><span style="color:#cd5555"> ubuntu:latest</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">ARG</span> <span style="color:#00688b">DEBIAN_FRONTEND</span>=noninteractive
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">RUN</span> apt update &amp;&amp; apt install -y <span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    apache2<span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    php<span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    libapache2-mod-php<span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    php-json<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">ADD</span> https://raw.githubusercontent.com/MAlejandroR/json_tv/main/tv.json  /var/www/html/tv.json<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">COPY</span> index.php /var/www/html<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">RUN</span> chmod <span style="color:#b452cd">775</span> /var/www/html/*<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">EXPOSE</span><span style="color:#cd5555"> 80</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">CMD</span> sh -c <span style="color:#cd5555">&#34;service apache2 start &amp;&amp; tail -f /dev/null&#34;</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></div>
</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Comentarios</h4>

    <ul>
<li>Uso el mismo ejemplo anterior especicando que voy a compartir el puerto 80</li>
<li>Este comando es informativo, no obliga a nada ni por ponerlo se comparte el puertoç</li>
<li>Es recomendado en las buenas prácticas</li>
</ul>
<blockquote>
<p><strong>docker build -t web - -build-arg=18:01 .</strong></p>
</blockquote>

</div>




<hr style="border-color: red; border-width: 3px;"/>



<div class="pageinfo pageinfo-primary">
<h4 id="crear-etiquetas-en-la-imagen">Crear etiquetas en la imagen</h4>
<blockquote>
<p><strong>LABEL</strong></p>
<blockquote>
<p>Añade 3 etiquetas, tu identificación <em>maintainer</em> <em>description</em> <em>version</em></p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">FROM</span><span style="color:#cd5555"> ubuntu:latest</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">ARG</span> <span style="color:#00688b">DEBIAN_FRONTEND</span>=noninteractive
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">LABEL</span> <span style="color:#00688b">maintainer</span>=<span style="color:#cd5555">&#34;manuel Romero &lt;manuelromeromiguel@gmail.com&gt;&#34;</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">LABEL</span> <span style="color:#00688b">description</span>=<span style="color:#cd5555">&#34;Imagen de contenedor con Apache, PHP y un archivo JSON&#34;</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">LABEL</span> <span style="color:#00688b">version</span>=<span style="color:#cd5555">&#34;1.0&#34;</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">RUN</span> apt update &amp;&amp; apt install -y <span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    apache2<span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    php<span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    libapache2-mod-php<span style="color:#cd5555">\
</span></span></span><span style="display:flex;"><span><span style="color:#cd5555"></span>    php-json<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">ADD</span> https://raw.githubusercontent.com/MAlejandroR/json_tv/main/tv.json  /var/www/html/tv.json<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">COPY</span> index.php /var/www/html<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">RUN</span> chmod <span style="color:#b452cd">775</span> /var/www/html/*<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">EXPOSE</span><span style="color:#cd5555"> 80</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#8b008b;font-weight:bold">CMD</span> sh -c <span style="color:#cd5555">&#34;service apache2 start &amp;&amp; tail -f /dev/null&#34;</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></div>
</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Comentarios</h4>

    <ul>
<li>Puedes crear tus propias etiquetas.</li>
<li><strong>maintainer, description, version</strong> se usan de forma estándar.</li>
</ul>
<blockquote>
<p><strong>docker build -t web - -build-arg=18:01 .</strong></p>
</blockquote>

</div>




<hr style="border-color: red; border-width: 3px;"/>
</p>

</div>



    
      
  
  
  
  

  
  

  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-30609be7d132b7b5711480252dc9530b">2 - Ficheros y directorios</h1>
    
	<h1 id="page_facing_up-comandos-de-ficheros">&#x1f4c4; Comandos de ficheros</h1>
<h2 id="ls-listar-archivos-y-directorios">ls: Listar archivos y directorios:</h2>
<p>Muestra el contenido de la carpeta actual</p>
<p>El comando ls viene de list (
<strong>
<span class="font-weight-bold text-primary">

    l


</span>
</strong>
i
<strong>
<span class="font-weight-bold text-primary">

    s


</span>
</strong>
t)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ls
</span></span></code></pre></div><p>Se puede usar con <strong>
<strong>
<span class="font-weight-bold text-primary">

    -l


</span>
</strong>
</strong> para mostrar en formato de listado y <strong>
<strong>
<span class="font-weight-bold text-primary">

    -a


</span>
</strong>
</strong> de all para ver
también los ficheros ocultos.
<img alt="img.png" src="/dwes/fr/docs/02_docker/0_linux/01_comandos_gestion_ficheros/img.png"></p>
<p>Con la opción <strong>
<strong>
<span class="font-weight-bold text-primary">

    -l


</span>
</strong>
</strong> optendremos información de cada fichero/directorio:</p>

</div>



    
      
  
  
  
  

  
  

  

    
	
  



          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="td-footer__left col-6 col-sm-4 order-sm-1">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Correo del usuario" aria-label="Correo del usuario">
    <a target="_blank" rel="noopener" href="https://example.org/mail" aria-label="Correo del usuario">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/MAlejandroR" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__right col-6 col-sm-4 order-sm-3">
        
      </div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2">
        <span class="td-footer__copyright">&copy;
    2024
    <span class="td-footer__authors">@MRomero</span></span><span class="td-footer__all_rights_reserved">Tous droits réservés</span><span class="ms-2"><a href="https://policies.google.com/privacy" target="_blank" rel="noopener">Politique de confidentialité</a></span>
      </div>
    </div>
  </div>
</footer>

    </div>
    <style>
.markmap > svg {
  width: 100%;
  height: 300px;
}
</style>
<script>
window.markmap = {
  autoLoader: {
      manual: true,
      onReady() {
        const { autoLoader, builtInPlugins } = window.markmap;
        autoLoader.transformPlugins = builtInPlugins.filter(plugin => plugin.name !== 'prism');
      },
  },
};
</script>
<script src="https://cdn.jsdelivr.net/npm/markmap-autoloader"></script>
<script src="/dwes/js/main.js"></script>
<script defer src="/dwes/js/click-to-copy.js" crossorigin="anonymous"></script>
<script src='/dwes/js/tabpane-persist.js'></script>

  </body>
</html>
